<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><%= title %></title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <%- include("../../partials/header") %>
    <%- include("../../partials/nav", {nav}) %>

    <main class="container">
        <h1><%= title %></h1>
        <% if (errors) { %>
            <div class="error-message">
                <% errors.forEach(error => { %>
                    <p><%= error %></p>
                <% }) %>
            </div>
        <% } %>

                <form action="/inv/update" method="post">
            <!-- Hidden inventory ID field -->
            <input type="hidden" name="inv_id" 
            <% if (locals.inv_id) { %> value="<%= locals.inv_id %>" <% } %>>

        <form action="/inv/update" method="post">
            <input type="hidden" name="inv_id" value="<%= inv_id %>">
            
            <div class="form-group">
                <label for="classification_id">Classification</label>
                <select name="classification_id" id="classification_id" required>
                    <%- classificationSelect %>
                </select>
            </div>

            <div class="form-group">
                <label for="inv_make">Make</label>
                <input type="text" name="inv_make" id="inv_make" required 
                    value="<%= inv_make %>">
            </div>

            <div class="form-group">
                <label for="inv_model">Model</label>
                <input type="text" name="inv_model" id="inv_model" required 
                    value="<%= inv_model %>">
            </div>

            <div class="form-group">
                <label for="inv_year">Year</label>
                <input type="number" name="inv_year" id="inv_year" required 
                    value="<%= inv_year %>">
            </div>

            <div class="form-group">
                <label for="inv_description">Description</label>
                <textarea name="inv_description" id="inv_description" required><%= inv_description %></textarea>
            </div>

            <div class="form-group">
                <label for="inv_image">Image Path</label>
                <input type="text" name="inv_image" id="inv_image" required 
                    value="<%= inv_image %>">
            </div>

            <div class="form-group">
                <label for="inv_thumbnail">Thumbnail Path</label>
                <input type="text" name="inv_thumbnail" id="inv_thumbnail" required 
                    value="<%= inv_thumbnail %>">
            </div>

            <div class="form-group">
                <label for="inv_price">Price</label>
                <input type="number" name="inv_price" id="inv_price" required 
                    value="<%= inv_price %>" step="0.01">
            </div>

            <div class="form-group">
                <label for="inv_miles">Miles</label>
                <input type="number" name="inv_miles" id="inv_miles" required 
                    value="<%= inv_miles %>">
            </div>

            <div class="form-group">
                <label for="inv_color">Color</label>
                <input type="text" name="inv_color" id="inv_color" required 
                    value="<%= inv_color %>">
            </div>

            <div class="form-group">
                <button type="submit">Update Vehicle</button>
            </div>
        </form>
    </main>

    <%- include("../../partials/footer") %>
</body>
</html>